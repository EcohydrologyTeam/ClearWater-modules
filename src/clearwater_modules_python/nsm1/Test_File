
import math
from _temp_correction import TempCorrection
from collections import OrderedDict


def test_file() :
    TwaterC = 25
    TwaterK = TwaterC + 273.15
    KW = 10**((-4787.3 / TwaterK) - 7.1321 * math.log10(TwaterK) - 0.010365 * TwaterK + 22.80)
    K1 = 10**(-356.3094 - 0.06091964 * TwaterK + (21834.37 / TwaterK) + 126.8339 * math.log10(TwaterK) - 1684915.0 / (TwaterK**2))
    K2 = 10**(-107.8871 - 0.03252849 * TwaterK + 5151.79 / TwaterK + 38.92561 * math.log10(TwaterK) - 563713.9 / (TwaterK**2))
    DIC = 10
    Alk = 10
    pH=7
    hh = 10**(-pH)

    original= ((K1 * hh + 2.0 * K1 * K2) / (hh * hh + K1 * hh + K1 * K2)) * DIC + (KW / hh) - hh - Alk / 50000.0
    der=(K1 * hh * DIC* (hh * hh + 4 * K2 * hh + K1 * K2) / (hh * hh + K1 * hh + K1 * K2)**2 + KW / hh + hh)
    pH_new=pH-original/der

    original1 = ((K1*hh +2*(K1*K2))/(hh**2+K1*hh+K1*K2))*DIC + (KW/hh) - hh - Alk/50000
    der1 = DIC*(K1)
    x=math.log(10.0)
    y=math.ln(10)
    print(x,y)
    #print(original, der)
    #print(original1)


if __name__ == '__main__':
    test_file()
